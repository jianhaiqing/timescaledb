-- This file and its contents are licensed under the Timescale License.
-- Please see the included NOTICE for copyright information and
-- LICENSE-TIMESCALE for a copy of the license.
\c :TEST_DBNAME :ROLE_SUPERUSER
CREATE SERVER some_server FOREIGN DATA WRAPPER timescaledb_fdw;
CREATE FOREIGN TABLE test_ft (c0 int, c1 varchar(10)) SERVER some_server;
SELECT * FROM test_ft;
 c0 |  c1  
----+------
  1 | test
(1 row)

INSERT INTO test_ft VALUES (1, 'test');
NOTICE:  BEGIN FOREIGN MODIFY on non-chunk table "test_ft": INSERT INTO public.test_ft(c0, c1) VALUES ($1, $2)
UPDATE test_ft SET c1 = 'new_test';
NOTICE:  BEGIN FOREIGN MODIFY on non-chunk table "test_ft": UPDATE public.test_ft SET c1 = $2 WHERE ctid = $1
DELETE FROM test_ft WHERE c0 = 1;
NOTICE:  BEGIN FOREIGN MODIFY on non-chunk table "test_ft": DELETE FROM public.test_ft WHERE ctid = $1
EXPLAIN SELECT * FROM test_ft;
                         QUERY PLAN                         
------------------------------------------------------------
 Foreign Scan on test_ft  (cost=0.00..1.00 rows=1 width=42)
(1 row)

EXPLAIN INSERT INTO test_ft VALUES (1, 'test');
NOTICE:  BEGIN FOREIGN MODIFY on non-chunk table "test_ft": INSERT INTO public.test_ft(c0, c1) VALUES ($1, $2)
                      QUERY PLAN                      
------------------------------------------------------
 Insert on test_ft  (cost=0.00..0.01 rows=1 width=42)
   ->  Result  (cost=0.00..0.01 rows=1 width=42)
(2 rows)

ANALYZE VERBOSE test_ft;
WARNING:  skipping "test_ft" --- cannot analyze this foreign table
